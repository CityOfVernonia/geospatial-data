import { DateTime } from 'luxon';
import { exec } from 'node:child_process';
import { promisify } from 'node:util';

////////////////////////////////////////////////////////
// Constants
////////////////////////////////////////////////////////

/**
 * Web mercator extent of Vernonia City Limits.
 */
export const CITY_EXTENT = {
  spatialReference: {
    latestWkid: 3857,
    wkid: 102100,
  },
  xmin: -13715274,
  ymin: 5756619,
  xmax: -13710046,
  ymax: 5759781,
};

/**
 * NAD 1983 (2011) Oregon Statewide Lambert (Intl Feet) geometry of city limits.
 */
export const CITY_LIMITS = {
  spatialReference: {
    latestWkid: 6557,
    wkid: 102970,
  },
  rings: [
    [
      [628911.5052493364, 1511904.2624671906],
      [628911.5147637725, 1511904.2437663972],
      [628897.0853018314, 1511393.154199481],
      [628897.083989501, 1511393.1358267665],
      [628885.0144356936, 1510965.6437007934],
      [628881.8057742715, 1510851.9701443613],
      [628881.802821517, 1510851.9517716467],
      [628880.4839238822, 1510851.9878608882],
      [628863.158136487, 1510290.2273622006],
      [628803.1686351746, 1510291.8740157485],
      [628800.0925196856, 1510192.111220464],
      [628800.0895669311, 1510192.0928477645],
      [628799.6302493364, 1510177.1154855639],
      [628799.628937006, 1510177.0971128643],
      [628796.552821517, 1510077.3356299251],
      [628796.5498687625, 1510077.3172572106],
      [628794.5291994661, 1510017.3562992066],
      [628794.5278871357, 1510017.337926507],
      [628790.8776246756, 1509917.5912073404],
      [628790.8746719211, 1509917.5728346407],
      [628790.3284120709, 1509902.597769022],
      [628790.3270997405, 1509902.5793963224],
      [628786.6774934381, 1509802.8330052495],
      [628786.6745406836, 1509802.8146325499],
      [628784.4819553792, 1509742.8585958034],
      [628784.4806430489, 1509742.8402230889],
      [628780.822178483, 1509642.8881233633],
      [628780.5492125899, 1509635.4097768962],
      [628780.5482283384, 1509635.3914041966],
      [628776.6302493364, 1509528.3343175799],
      [628776.6272965819, 1509528.3159448802],
      [628774.4347112775, 1509468.3585958034],
      [628774.4333989471, 1509468.3402230889],
      [628772.4281496108, 1509413.5377296507],
      [628836.7093175799, 1509402.9360236228],
      [629016.765748024, 1509373.2395013124],
      [629102.7765748054, 1509359.0538057685],
      [629285.4041994661, 1509328.9330708683],
      [629482.7762467116, 1509296.3805774301],
      [629514.7772309631, 1509291.1033464521],
      [629546.7788713872, 1509285.8254593164],
      [629546.7746063024, 1509285.8435039371],
      [629546.8759842515, 1509285.8267716467],
      [629515.3845144361, 1509422.4543963224],
      [629517.332020998, 1509669.3976377994],
      [629517.3303805739, 1509669.4156824201],
      [629466.757874012, 1509954.5462598354],
      [629466.7604986876, 1509954.5646325499],
      [629482.7575459331, 1510125.1807742715],
      [629461.0974409431, 1510236.8861548603],
      [629620.2053805739, 1510269.0652887076],
      [630066.1673228294, 1510251.8674540669],
      [630067.345800519, 1510283.9209317565],
      [630067.3471128643, 1510283.939304456],
      [630682.4425853044, 1510495.6322178394],
      [630580.9402887076, 1510778.2132545859],
      [630299.298884511, 1510826.2887139022],
      [630162.6377952695, 1510752.8720472455],
      [629897.031167984, 1510771.3448162675],
      [629810.8061023653, 1510783.5531496108],
      [629442.9849081337, 1510835.6315616816],
      [629442.9845800549, 1510835.6499343812],
      [629472.9724409431, 1511892.9192913324],
      [629472.9501312375, 1511892.9307742715],
      [629472.9737532735, 1511892.9376640469],
      [629490.5915354341, 1511900.7306430489],
      [629507.0170603693, 1511910.7962598354],
      [629533.457020998, 1511909.7542650849],
      [630649.3139763772, 1511861.826115489],
      [630692.2841207385, 1511944.9947506487],
      [630759.7060367465, 1512032.1302493364],
      [630842.0344488174, 1512125.7319553792],
      [630897.2306430489, 1512219.2053805739],
      [630936.4452099651, 1512279.0314960629],
      [630959.8467847705, 1512312.9753936976],
      [631018.0515091866, 1512404.9229002595],
      [631082.2152230889, 1512519.4809711277],
      [631105.3953412026, 1512567.5544619411],
      [631105.8448162675, 1512568.625],
      [631138.7627952695, 1512644.7611548603],
      [631171.4753936976, 1512718.3956692964],
      [631183.2424540669, 1512748.2516404241],
      [631195.8100393713, 1512792.4025590569],
      [631197.9527558982, 1512853.4406168014],
      [631202.3854986876, 1512867.1968503892],
      [631249.9212598354, 1513015.2125984281],
      [631273.0905511826, 1513089.2230971158],
      [631281.5702099651, 1513153.4097768962],
      [631283.8143044561, 1513190.4852362126],
      [631336.2066929191, 1513346.6663385779],
      [631369.1450131238, 1513503.3930446208],
      [631792.5757873952, 1513484.9763779491],
      [631737.8858267665, 1513329.1955380589],
      [631683.2322834581, 1513173.5183726996],
      [631653.4340551198, 1513088.634842515],
      [631716.0649606287, 1513085.8736876696],
      [632232.8074146956, 1513062.9484908134],
      [632232.8064304441, 1513062.9301181138],
      [632229.5580708683, 1512980.7887139022],
      [632226.455052495, 1512902.3267716467],
      [632222.6725721806, 1512806.683727026],
      [632210.0160761178, 1512486.6509186327],
      [632204.7221128643, 1512352.7864173204],
      [632199.708989501, 1512226.0183726996],
      [632199.7080052495, 1512226],
      [632632.748031497, 1512208.1496063024],
      [632636.8582677096, 1512312.0452755839],
      [632636.8589238822, 1512312.0636482984],
      [632669.2549212575, 1513130.8146325499],
      [632669.3093831986, 1513130.8307086527],
      [633428.3759842515, 1513098.416010499],
      [633557.5337926447, 1513092.9005905539],
      [634235.4872047156, 1513062.3389107585],
      [634837.763779521, 1513035.1886482984],
      [634888.8937007785, 1513032.8841863573],
      [634820.1673228294, 1511967.3129921257],
      [634802.5866141766, 1511694.734251961],
      [634517.4025590569, 1511706.1141732335],
      [634361.1499343812, 1511712.4704724401],
      [634359.5036089271, 1511682.4950787425],
      [634354.5672572106, 1511592.6148293912],
      [633583.0209973752, 1511623.4386482984],
      [633320.7516404241, 1511633.9166666716],
      [633058.7687007785, 1511644.3832021058],
      [632796.6909448802, 1511654.853674546],
      [632777.8697506487, 1511319.7841207385],
      [632766.6499343812, 1511120.0597112775],
      [632758.1689632535, 1510969.0803805739],
      [632752.4468503892, 1510867.2017716467],
      [632746.8353018314, 1510767.3218503892],
      [632741.2250656188, 1510667.4409448802],
      [632740.2257217765, 1510667.4812992066],
      [632737.4206036776, 1510617.5400262475],
      [632738.4196194261, 1510617.5006561726],
      [632732.8044619411, 1510517.5377296507],
      [632732.8034776896, 1510517.5183726996],
      [632616.1430446208, 1510522.3500656188],
      [632605.6177821457, 1510334.7723097056],
      [632490.3684383184, 1510333.3841863573],
      [632501.1663385779, 1510527.103674546],
      [632476.2139107585, 1510528.0823490769],
      [632476.2086614221, 1510527.9891732335],
      [632408.0334645659, 1510530.7568897605],
      [632394.5462598354, 1510531.3044619411],
      [632394.544947505, 1510531.2860892415],
      [632394.4379921257, 1510529.4091207385],
      [632388.8599081337, 1510431.7545931786],
      [632383.3694225699, 1510332.0964566916],
      [632259.544947505, 1510330.6059711277],
      [632169.281167984, 1510329.5190288723],
      [632019.7221128643, 1510327.7185039371],
      [631929.712926507, 1510326.634842515],
      [631931.0869422555, 1510211.4534120709],
      [631945.3435039371, 1510211.6253280789],
      [631946.7828083932, 1510027.5387139022],
      [631946.9954068214, 1510000.4494750649],
      [631932.1486220509, 1510000.3175853044],
      [631932.2244094461, 1509985.3080708683],
      [631932.3753280789, 1509955.324146986],
      [631932.8034776896, 1509870.2683726996],
      [631933.3054461926, 1509770.3444881886],
      [631933.9593175799, 1509640.3290682435],
      [631934.460958004, 1509540.5190288723],
      [632162.6177821457, 1509542.6866797954],
      [632162.6204068214, 1509527.7020997405],
      [632162.6184383184, 1509512.6955380589],
      [632162.619094491, 1509512.6771653593],
      [632163.46489501, 1509412.8648293912],
      [632164.3090551198, 1509313.033136487],
      [632164.5629921257, 1509283.0285433084],
      [632172.4481627345, 1509283.1069553792],
      [632173.4658792615, 1509193.4865485579],
      [632173.5692257136, 1509183.4872047156],
      [632345.3589238822, 1509185.261811018],
      [632345.2555774301, 1509195.2611548603],
      [632344.2490157485, 1509285.1889763772],
      [632414.253937006, 1509286.0380577445],
      [632554.263779521, 1509287.7352362126],
      [632624.2687007785, 1509288.5846456736],
      [632694.2732939571, 1509289.4327427745],
      [632779.2801837325, 1509290.4635826796],
      [632904.1089238822, 1509291.9770341218],
      [632901.3569553792, 1509535.1108923852],
      [633465.3116797954, 1509540.7582021058],
      [633397.1863517016, 1508335.373031497],
      [633261.3024934381, 1508335.5856299251],
      [633261.3018372655, 1508335.5672572106],
      [633261.30479002, 1508334.576115489],
      [633261.3038057685, 1508334.5577427745],
      [633261.669947505, 1508213.5534776896],
      [633051.8467847705, 1508211.9274934381],
      [632975.9360236228, 1508211.3382545859],
      [632971.294947505, 1508211.3031496108],
      [632972.1902887076, 1507911.9875328094],
      [632973.0347768962, 1507628.6351706088],
      [632876.2591863573, 1507628.3648293912],
      [632682.6604330689, 1507627.8248031437],
      [632662.6564960629, 1507627.7693569511],
      [632349.9005905539, 1507632.6292650849],
      [632299.2818241417, 1507598.871062994],
      [632196.9931102395, 1507702.2946194261],
      [632196.9819553792, 1507702.2844488174],
      [632135.5045931786, 1507645.2903543264],
      [632138.2463910729, 1507639.0767716467],
      [632142.0305118114, 1507630.9064960629],
      [632150.3854986876, 1507612.492125988],
      [632152.5173884481, 1507605.902230963],
      [632154.8592519611, 1507599.412073493],
      [632155.4488188922, 1507598.287073493],
      [632155.6683070809, 1507597.6712598354],
      [632163.0521653593, 1507583.7775590569],
      [632171.257874012, 1507568.1505905539],
      [632178.0715223104, 1507555.1771653593],
      [632184.8841863573, 1507542.2040682435],
      [632192.7621391118, 1507525.189304456],
      [632192.7772309631, 1507525.1548556387],
      [632192.9973753244, 1507524.6794619411],
      [632194.0521653593, 1507521.843832016],
      [632198.013779521, 1507511.5561023653],
      [632199.7306430489, 1507506.580052495],
      [632199.7345800549, 1507506.568241462],
      [632199.7276902944, 1507506.5616797954],
      [632199.7398293912, 1507506.552821517],
      [632208.1889763772, 1507481.0016404241],
      [632215.9878608882, 1507455.21489501],
      [632216.5751312375, 1507443.7759186327],
      [632216.6384514421, 1507432.2411417365],
      [632220.6925853044, 1507408.8428477645],
      [632226.4832677096, 1507376.162073493],
      [632234.5544619411, 1507343.968832016],
      [632236.0675853044, 1507336.0328083932],
      [632236.3530183733, 1507327.9593175799],
      [632235.4041994661, 1507319.9363517016],
      [632233.244094491, 1507312.1519028842],
      [632226.0679133832, 1507300.1430446208],
      [632200.351706028, 1507272.041010499],
      [632179.1863517016, 1507248.642716527],
      [632157.2746063024, 1507224.019685045],
      [632136.5206692964, 1507198.4133858234],
      [632127.0075459331, 1507189.3435039371],
      [632120.7355643064, 1507183.8093831986],
      [632108.6145013124, 1507175.2933070809],
      [632099.1519028842, 1507167.5239501297],
      [632092.7732939571, 1507163.1594488174],
      [632084.0538057685, 1507156.7739501297],
      [632073.845800519, 1507151.2375328094],
      [632063.2142388374, 1507143.148293957],
      [632055.3720472455, 1507138.486220464],
      [632049.6036745459, 1507135.0577427745],
      [632033.4422572106, 1507124.4117453992],
      [632024.0856299251, 1507118.451115489],
      [632013.453083992, 1507110.3618766367],
      [631990.488188982, 1507092.0554461926],
      [631962.419947505, 1507071.6187663972],
      [631940.3057742715, 1507052.8861548603],
      [631925.847769022, 1507037.9878608882],
      [631912.6666666716, 1507023.941272959],
      [631898.6345144361, 1507009.4681758583],
      [631883.3244750649, 1506996.6965223104],
      [631865.4619422555, 1506983.923884511],
      [631848.0255905539, 1506970.7250656188],
      [631832.3694225699, 1506955.3996063024],
      [631816.988188982, 1506932.4183070809],
      [631801.6794619411, 1506916.6686351746],
      [631779.5636482984, 1506902.617125988],
      [631755.6272965819, 1506889.2250656188],
      [631733.7919947505, 1506881.7837926447],
      [631703.7680446208, 1506872.4445538074],
      [631673.1558398902, 1506865.2660761178],
      [631642.1099081337, 1506860.2844488174],
      [631594.1873359531, 1506855.4560367465],
      [631546.1112204641, 1506852.52526246],
      [631502.2900262475, 1506850.3746719211],
      [631485.0590551198, 1506851.6417322755],
      [631424.0072178394, 1506850.5462598354],
      [631406.9350393713, 1506850.5902230889],
      [631367.3694225699, 1506848.867125988],
      [631337.7542650849, 1506848.1154855639],
      [631308.2329396307, 1506845.6453412026],
      [631181.2414698154, 1506833.2395013124],
      [631164.9603018314, 1506831.9507873952],
      [631138.2106299251, 1506829.0114829391],
      [631111.6840551198, 1506824.4812992066],
      [631055.1043307036, 1506814.6653543264],
      [630998.9488188922, 1506805.2759186327],
      [630910.4616141766, 1506793.3166010529],
      [630866.296916008, 1506785.5935039371],
      [630822.3877952695, 1506776.5295275599],
      [630778.7752624601, 1506766.132874012],
      [630725.2854330689, 1506752.927821517],
      [630671.3166010529, 1506741.8415354341],
      [630662.6394356936, 1506741.4419291317],
      [630653.9406168014, 1506741.27526246],
      [630620.9868766367, 1506736.261811018],
      [630588.0003280789, 1506731.4557086527],
      [630542.9041994661, 1506727.6020341218],
      [630522.5242782086, 1506725.2096456736],
      [630502.3530183733, 1506721.4419291317],
      [630482.4835958034, 1506716.3159448802],
      [630371.662073493, 1506689.4209317565],
      [630346.7135826796, 1506681.1712598354],
      [630321.9586614221, 1506672.2444225699],
      [630298.5439632535, 1506665.1666666716],
      [630235.1318897605, 1506645.326115489],
      [630215.3973097056, 1506636.5574146956],
      [630196, 1506627.0111548603],
      [630160.2690288723, 1506614.2290026248],
      [630151.7283464521, 1506608.3802493364],
      [630143.2568897605, 1506602.3064304441],
      [630110.4868766367, 1506587.1735564321],
      [630076.3766404241, 1506575.818241462],
      [630030.9560367465, 1506566.0843175799],
      [630013.5554461926, 1506561.244094491],
      [629996.0744750649, 1506556.705052495],
      [629959.0626640469, 1506550.7293307036],
      [629933.5387139022, 1506545.3976377994],
      [629902.0583989471, 1506538.5738188922],
      [629879.9842519611, 1506533.4557086527],
      [629857.6145013124, 1506529.843832016],
      [629813.7847768962, 1506523.8490813673],
      [629791.0246063024, 1506521.4967191517],
      [629769.9186351746, 1506517.8641732335],
      [629749.1213910729, 1506512.7526246756],
      [629729.1788057685, 1506504.7057086527],
      [629709.960958004, 1506495.0554461926],
      [629691.595800519, 1506483.867125988],
      [629674.0495406836, 1506474.2099737525],
      [629661.1128608882, 1506470.5541338623],
      [629648.1003936976, 1506467.175853014],
      [629595.4895013124, 1506449.3353018314],
      [629542.3795931786, 1506433.0393700749],
      [629520.9675196856, 1506426.6049868762],
      [629499.9635826796, 1506418.9419291317],
      [629479.4389763772, 1506410.0757873952],
      [629448.8700787425, 1506396.1394356936],
      [629418.6135170609, 1506381.5380577445],
      [629398.1023622006, 1506372.9753936976],
      [629361.3589238822, 1506358.615157485],
      [629357.3270997405, 1506357.3330052495],
      [629345.0255905539, 1506353.4186351746],
      [629324.4432414621, 1506352.5006561726],
      [629303.6886482984, 1506355.5908792615],
      [629277.8602362126, 1506359.5334645659],
      [629252.3720472455, 1506365.2798556387],
      [629224.1850393713, 1506372.162073493],
      [629195.4832677096, 1506379.5757873952],
      [629167.2837926447, 1506388.7158792615],
      [629139.6906168014, 1506399.5482283384],
      [629116.3333333284, 1506408.8562992066],
      [629092.3179133832, 1506416.3041338623],
      [629075.0889107585, 1506419.2946194261],
      [629058.0200131238, 1506422.8284120709],
      [629036.0196850449, 1506430.8323490769],
      [628966.4376640469, 1506458.425853014],
      [628897.5600393713, 1506487.7332677096],
      [628830.4124015719, 1506515.8953412026],
      [628789.255905509, 1506534.0990813673],
      [628748.6423884481, 1506553.4839238822],
      [628682.6591207385, 1506585.1030183733],
      [628650.4169947505, 1506599.8284120709],
      [628575.2857611477, 1506638.3845144361],
      [628560.1207349002, 1506645.9271653593],
      [628512.033136487, 1506665.6774934381],
      [628492.5784120709, 1506673.8254593164],
      [628473.6482939571, 1506683.1279527545],
      [628455.3120078743, 1506693.5515091866],
      [628429.472769022, 1506710.9520997405],
      [628414.4281496108, 1506718.6545275599],
      [628398.7739501297, 1506725.0275590569],
      [628382.6276246756, 1506730.0226377994],
      [628367.3431758583, 1506734.7444225699],
      [628325.8146325499, 1506756.599737525],
      [628295.6440288723, 1506766.5672572106],
      [628265.6833989471, 1506777.144685045],
      [628229.658136487, 1506794.5715223104],
      [628194.1633858234, 1506813.0544619411],
      [628159.2299868762, 1506832.5774278194],
      [628117.5380577445, 1506855.8654855639],
      [628047.2791994661, 1506895.996062994],
      [628020.455052495, 1506909.6873359531],
      [627993.5124671906, 1506923.1614173204],
      [627958.1026902944, 1506942.3500656188],
      [627923.2634514421, 1506962.5564304441],
      [627900.0669291317, 1506976.1538713872],
      [627742.3254593164, 1507067.6059711277],
      [627685.2080052495, 1507101.1430446208],
      [627523.847769022, 1507198.4655511826],
      [627420.0042650849, 1507260.527230963],
      [627372.5603674501, 1507288.027230963],
      [627326.3346456736, 1507315.6512467116],
      [627281.2608267665, 1507345.1184383184],
      [627263.0009842515, 1507357.0639763772],
      [627250.0764435679, 1507365.9087926447],
      [627236.197178483, 1507373.1633858234],
      [627221.5570866168, 1507378.7260498703],
      [627206.3618766367, 1507382.5187007934],
      [627181.8628608882, 1507386.66010499],
      [627163.3284120709, 1507389.66010499],
      [627145.1929133832, 1507394.5219816267],
      [627127.6433726996, 1507401.1961942315],
      [627101.7729658782, 1507413.4035433084],
      [627076.638779521, 1507427.0629921257],
      [627052.3231627345, 1507442.130905509],
      [627016.5603674501, 1507466.066272959],
      [626981.4855643064, 1507490.9977034181],
      [626947.1253280789, 1507516.906167984],
      [626924.2040682435, 1507535.531167984],
      [626901.5180446208, 1507555.988188982],
      [626879.0846456736, 1507576.777230963],
      [626865.0610236228, 1507588.4790026248],
      [626850.1410761178, 1507599.3100393713],
      [626826.287073493, 1507611.7647637725],
      [626819.9009186327, 1507613.683727026],
      [626803.2841207385, 1507618.8254593164],
      [626786.2040682435, 1507622.1167978942],
      [626768.8667978942, 1507623.5183726996],
      [626744.5013123304, 1507623.7152230889],
      [626732.5961286128, 1507623.501968503],
      [626720.1528871357, 1507623.2795275599],
      [626683.5639763772, 1507621.1325459331],
      [626651.6545275599, 1507621.8034776896],
      [626612.8090551198, 1507625.2444225699],
      [626574.2181758583, 1507630.8599081337],
      [626504.0108267665, 1507644.4373359531],
      [626421.4639107585, 1507659.7093175799],
      [626389.7654199451, 1507664.7982283384],
      [626370.2306430489, 1507668.7171916068],
      [626351.2040682435, 1507674.628937006],
      [626332.8881233633, 1507682.4711286128],
      [626308.2755905539, 1507693.898293957],
      [626284.2332677096, 1507702.3940288723],
      [626255.4678477645, 1507714.841863513],
      [626227.5551181138, 1507729.0990813673],
      [626200.6085958034, 1507745.1076115519],
      [626175.0708661377, 1507763.8146325499],
      [626138.9776902944, 1507787.9753936976],
      [626103.5692257136, 1507813.128937006],
      [626077.8982939571, 1507831.8343175799],
      [626052.7063648254, 1507851.17979002],
      [626022.4858923852, 1507876.6906168014],
      [625985.8330052495, 1507903.980314955],
      [625950.5544619411, 1507933.0246063024],
      [625925.4416010529, 1507953.6466535479],
      [625912.3740157485, 1507964.8077427745],
      [625895.4632545859, 1507972.0777558982],
      [625875.6942257136, 1507980.8996063024],
      [625855.6410761178, 1507989.0554461926],
      [625832.3733595759, 1508000.6735564321],
      [625810, 1508012.740157485],
      [625787.1830708683, 1508017.6486220509],
      [625767.6942257136, 1508023.669947505],
      [625747.826115489, 1508028.2893700749],
      [625727.6801181138, 1508031.484251961],
      [625712.916010499, 1508035.0551181138],
      [625703.4393044561, 1508034.0393700749],
      [625690.550853014, 1508031.9117453992],
      [625674.8946850449, 1508031.0088582635],
      [625660.5784120709, 1508032.7903543264],
      [625644.0262467116, 1508034.5708661377],
      [625620.765748024, 1508033.2165354341],
      [625583.1893044561, 1508033.1965223104],
      [625570.8648293912, 1508031.820209965],
      [625518.5620078743, 1508023.6902887076],
      [625466.5869422555, 1508013.6765091866],
      [625415.0075459331, 1508001.7933070809],
      [625403.6204068214, 1507998.0974409431],
      [625371.740157485, 1507987.0219816267],
      [625351.115157485, 1507978.474737525],
      [625316.2719816267, 1507953.5583989471],
      [625302.7614829391, 1507943.5921916068],
      [625287.8287401497, 1507932.914041996],
      [625280.7201443613, 1507923.6624015719],
      [625262.2260498703, 1507920.8074146956],
      [625252.2713254541, 1507912.9770341218],
      [625246.7621391118, 1507905.7250656188],
      [625243.7434383184, 1507896.611220464],
      [625238.7660761178, 1507893.0515091866],
      [625229.5196850449, 1507890.2014435679],
      [625224.3635170609, 1507884.6089238822],
      [625220.9885170609, 1507880.9488188922],
      [625203.218832016, 1507853.9078083932],
      [625193.9780183733, 1507841.0987532735],
      [625181.8910761178, 1507829.7099737525],
      [625157.0232939571, 1507787.5931758583],
      [624900.5236220509, 1507786.2818241417],
      [624770.7447506487, 1507785.6187663972],
      [624770.7260498703, 1507785.6003936976],
      [624629.0173884481, 1507784.8763123304],
      [624529.015748024, 1507784.3832021058],
      [624429.0131233633, 1507783.8717191517],
      [624391.3779527545, 1507783.6794619411],
      [624289.134842515, 1507783.1568241417],
      [624289.1354986876, 1507783.1384514421],
      [624353.0551181138, 1507483.4875328094],
      [624353.0511811078, 1507483.4691601098],
      [624346.5757873952, 1507454.0328083932],
      [624162.3953412026, 1507453.091863513],
      [624164.3677821457, 1507489.5275590569],
      [624180.2329396307, 1507782.5823490769],
      [624180.2345800549, 1507782.6007217765],
      [624053.1637139022, 1507781.9504593164],
      [624056.3622047156, 1507841.9796587974],
      [624074.9685039371, 1508191.2276902944],
      [624079.9963910729, 1508285.5928477645],
      [624079.9977034032, 1508285.611220464],
      [623975.1049868762, 1508291.236220464],
      [623882.2326115519, 1508296.2175196856],
      [623882.2309711277, 1508296.199146986],
      [623869.0485564321, 1508046.6312335879],
      [623869.0465879291, 1508046.6128608882],
      [623858.207020998, 1507841.3884514421],
      [623808.1505905539, 1507841.2408136427],
      [623819.2165354341, 1508049.691272959],
      [623821.4721128643, 1508092.1945538074],
      [623838.9324146956, 1508421.1338582635],
      [623879.5830052495, 1509186.9343831986],
      [623812.5987532735, 1509189.0577427745],
      [623712.6302493364, 1509192.2270341218],
      [623662.6459973752, 1509193.8113517016],
      [623549.9192913324, 1509197.3858267665],
      [623411.1158136427, 1509201.7857611477],
      [623311.5072178394, 1509204.9438976347],
      [623211.6236876696, 1509208.1099081337],
      [623111.7408136427, 1509211.277230963],
      [622792.0915354341, 1509221.4097768962],
      [622824.4993438274, 1509823.353674546],
      [622860.6062992066, 1510493.9924540669],
      [622865.9839238822, 1510593.8674540669],
      [622886.3526902944, 1510593.1099081337],
      [622946.3375984281, 1510590.9333989471],
      [622962.6584645659, 1511040.7234251946],
      [623452.42979002, 1511022.9520997405],
      [623436.0344488174, 1510573.183727026],
      [623529.7965879291, 1510569.7821522355],
      [623628.9862204641, 1510566.1820866168],
      [623752.9215879291, 1510561.6860236228],
      [623802.8999343812, 1510559.8720472455],
      [624167.1607611477, 1510546.6555118114],
      [624188.6512467116, 1510545.8756561726],
      [624219.4284776896, 1511108.9977034181],
      [624231.8225065619, 1511335.7650918663],
      [624241.1023622006, 1511505.560695544],
      [624249.017716527, 1511650.3864829391],
      [624257.2060367465, 1511800.2057086527],
      [624273.582020998, 1512099.8464566916],
      [624674.6430446208, 1512083.8894356936],
      [624784.298884511, 1512079.5269028842],
      [624955.617125988, 1512072.710958004],
      [625005.7454068214, 1512070.716863513],
      [625356.3825459331, 1512056.7664041966],
      [625594.2145669311, 1512047.326115489],
      [625830.113188982, 1512039.6335301846],
      [626303.9504593164, 1512024.1820866168],
      [626363.9888451397, 1512022.224737525],
      [626875.0570866168, 1512005.558727026],
      [626893.6650262475, 1512004.9534120709],
      [628201.2913385779, 1511962.3100393713],
      [628256.048884511, 1511960.1496063024],
      [628255.6351706088, 1511947.0475721806],
      [628293.7650918663, 1511945.843832016],
      [628343.7614829391, 1511944.2654199451],
      [628393.7568897605, 1511942.6873359531],
      [628478.6916010529, 1511940.005905509],
      [628493.7493438274, 1511939.5301837325],
      [628493.386811018, 1511928.0456036776],
      [628493.1568241417, 1511920.7654199451],
      [628553.1236876696, 1511918.40026246],
      [628653.0728346407, 1511914.4573490769],
      [628753.0223097056, 1511910.5144356936],
      [628852.9714566916, 1511906.5711942315],
      [628911.5052493364, 1511904.2624671906],
    ],
    [
      [630751.664041996, 1509762.4829396307],
      [630743.6873359531, 1509763.1158136427],
      [630743.6850393713, 1509763.0964566916],
      [630727.4717847705, 1509557.210958004],
      [630735.4537401497, 1509556.6459973752],
      [630743.3851706088, 1509657.3622047156],
      [630751.6610892415, 1509762.4645669311],
      [630751.664041996, 1509762.4829396307],
    ],
  ],
};

/**
 * NAD 1983 (2011) Oregon Statewide Lambert (Intl Feet) extent of greater Vernonia area.
 */
export const SPATIAL_EXTENT = {
  rings: [
    [
      [606952, 1490512],
      [606952, 1529343],
      [650728, 1529343],
      [650728, 1490512],
      [606952, 1490512],
    ],
  ],
  spatialReference: { wkid: 102970, latestWkid: 6557 },
};

/**
 * Vernonia area tax maps.
 */
export const TAX_MAPS = [
  '4403',
  '4403BA',
  '4403BB',
  '4403BC',
  '4403BD',
  '4403CA',
  '4404',
  '4404AB',
  '4404AC',
  '4404AD',
  '4404BA',
  '4404BB',
  '4404BC',
  '4404BD',
  '4404CA',
  '4404CB',
  '4404DA',
  '4405',
  '4405AA',
  '4405AC',
  '4405AD',
  '4405DA',
  '4405DD',
  '4406',
  '4407',
  '4408',
  '4501',
  '4512',
  '5432',
  '5433',
  '5433CD',
  '5433DC',
  '5434',
  '5434CC',
  '5434CD',
];

////////////////////////////////////////////////////////
// Helpers
////////////////////////////////////////////////////////

/**
 * Create MM/DD/YYYY date string from UTC milliseconds.
 * @param {number} milliseconds
 * @returns string
 */
export const dateString = (milliseconds) => {
  return DateTime.fromMillis(milliseconds).toUTC().toLocaleString(DateTime.DATE_SHORT);
};

/**
 * Promisified node:child_process[exec].
 */
export const execute = promisify(exec);
